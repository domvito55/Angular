{"ast":null,"code":"import _classCallCheck from \"D:/pCloudFolder/Repositories/Angular/SpotSaleStore/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/pCloudFolder/Repositories/Angular/SpotSaleStore/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { ProductRepository } from \"../model/product.repository\";\nimport { Product } from \"../model/product.model\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../model/product.repository\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ProductDetailComponent_form_8_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \" Please enter a title \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductDetailComponent_form_8_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \" Please enter a category \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductDetailComponent_form_8_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \" Please enter the price \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductDetailComponent_form_8_span_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \" Please enter a small description \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductDetailComponent_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 6, 7);\n    i0.ɵɵlistener(\"ngSubmit\", function ProductDetailComponent_form_8_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n\n      var _r1 = i0.ɵɵreference(1);\n\n      var ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.submitProduct(_r1));\n    });\n    i0.ɵɵelementStart(2, \"div\", 8)(3, \"label\");\n    i0.ɵɵtext(4, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 9, 10);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_form_8_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.product.title = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ProductDetailComponent_form_8_span_7_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8)(9, \"label\");\n    i0.ɵɵtext(10, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 12, 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_form_8_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.product.category = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, ProductDetailComponent_form_8_span_13_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 8)(15, \"label\");\n    i0.ɵɵtext(16, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"input\", 14, 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_form_8_Template_input_ngModelChange_17_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.product.price = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, ProductDetailComponent_form_8_span_19_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 8)(21, \"label\");\n    i0.ɵɵtext(22, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"input\", 16, 17);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDetailComponent_form_8_Template_input_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      var ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.product.description = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(25, ProductDetailComponent_form_8_span_25_Template, 2, 0, \"span\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 18)(27, \"button\", 19);\n    i0.ɵɵtext(28, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"button\", 20);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    var _r2 = i0.ɵɵreference(6);\n\n    var _r4 = i0.ɵɵreference(12);\n\n    var _r6 = i0.ɵɵreference(18);\n\n    var _r8 = i0.ɵɵreference(24);\n\n    var ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.submitted && _r2.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.submitted && _r4.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.submitted && _r6.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.product.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.submitted && _r8.invalid);\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassProp(\"btn-warning\", ctx_r0.editing);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.editing ? \"Save\" : \"Create\", \" \");\n  }\n}\n\nexport var ProductDetailComponent = /*#__PURE__*/(function () {\n  var ProductDetailComponent = /*#__PURE__*/function () {\n    function ProductDetailComponent(repository, router, activeRoute) {\n      _classCallCheck(this, ProductDetailComponent);\n\n      this.repository = repository;\n      this.router = router;\n      this.editing = false;\n      this.productSent = false;\n      this.submitted = false;\n      this.product = new Product(); //decide if the page is for edit or create\n\n      this.editing = activeRoute.snapshot.params[\"mode\"] == \"edit\";\n\n      if (this.editing) {\n        Object.assign(this.product, repository.getProduct(activeRoute.snapshot.params[\"id\"]));\n      }\n    }\n    /* example of validation to be used in future release\r\n        save(form: NgForm) {\r\n            this.repository.saveProduct(this.product);\r\n            this.router.navigateByUrl(\"/admin/main/products\");\r\n        }\r\n    */\n    //Saving (created or adited ad)\n\n\n    _createClass(ProductDetailComponent, [{\n      key: \"submitProduct\",\n      value: function submitProduct(form) {\n        this.submitted = true;\n\n        if (form.valid) {\n          this.repository.saveProduct(this.product);\n          this.router.navigateByUrl(\"/store\");\n        }\n      }\n    }]);\n\n    return ProductDetailComponent;\n  }();\n\n  ProductDetailComponent.ɵfac = function ProductDetailComponent_Factory(t) {\n    return new (t || ProductDetailComponent)(i0.ɵɵdirectiveInject(i1.ProductRepository), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  ProductDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDetailComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 9,\n    vars: 6,\n    consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col\", \"bg-dark\", \"text-white\"], [1, \"navbar-brand\"], [1, \"bg-primary\", \"p-2\", \"text-white\"], [\"novalidate\", \"\", \"class\", \"m-2\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"novalidate\", \"\", 1, \"m-2\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"form-group\"], [\"name\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"title\", \"ngModel\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"name\", \"category\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"category\", \"ngModel\"], [\"name\", \"price\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"price\", \"ngModel\"], [\"name\", \"description\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"description\", \"ngModel\"], [1, \"text-center\"], [\"routerLink\", \"/store\", 1, \"btn\", \"btn-secondary\", \"m-1\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"text-danger\"]],\n    template: function ProductDetailComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n        i0.ɵɵtext(4, \"SPOT SALE STORE\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"h5\");\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(8, ProductDetailComponent_form_8_Template, 31, 11, \"form\", 5);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵclassProp(\"bg-warning\", ctx.editing)(\"text-dark\", ctx.editing);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.editing ? \"Edit\" : \"Create\", \" Product\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productSent);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i2.RouterLink],\n    styles: [\"input.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border:2px solid #ff0000}input.ng-dirty.ng-valid[_ngcontent-%COMP%]{border:2px solid #6bc502}\"]\n  });\n  return ProductDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}